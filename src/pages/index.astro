---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import Proyectos from '../components/Proyectos.astro';
import Servicios from '../components/Servicios.astro';
import Nosotros from '../components/Nosotros.astro';
import Separador from '../components/Separador.astro';
import Contacto from '../components/Contacto.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Kairo Studio - Estudio de diseño y desarrollo">
  <Header />
  
  <main>
    <!-- Hero Section -->
    <Hero />

    <!-- Proyectos Section -->
    <Proyectos />

    <!-- Servicios Section -->
    <Servicios />

    <!-- About Section -->
    <Nosotros />

    <!-- Separator Section -->
    <Separador />

    <!-- Contacto Section -->
    <Contacto />

    <!-- Footer -->
    <Footer />
  </main>
</Layout>

<style>
  /* Hero Section Styles */
  .hero-section {
    position: relative;
    display: flex;
    align-items: center;
    background: linear-gradient(135deg, #0A0A0A 0%, #1a1a1a 50%, #0A0A0A 100%);
  }

  .gradient-overlay {
    background: linear-gradient(
      135deg,
      rgba(224, 94, 16, 0.3) 0%,
      rgba(10, 10, 10, 0.8) 30%,
      rgba(10, 10, 10, 0.9) 70%,
      rgba(224, 94, 16, 0.2) 100%
    );
  }

  .hero-title {
    overflow: hidden;
  }

  .hero-line {
    display: block;
    transform: translateY(100%);
  }

  /* Section Styles */
  .section-header {
    /* Removemos la opacidad inicial para evitar contenido invisible */
    transform: translateY(30px);
  }

  .projects-grid,
  .services-list,
  .team-grid {
    /* Removemos la opacidad inicial para evitar contenido invisible */
    transform: translateY(30px);
  }

  /* Form Styles */
  textarea.input {
    resize: vertical;
    min-height: 120px;
    border-bottom: 2px solid #ccc;
    padding: 1rem 0;
  }

  textarea.input:focus {
    border-bottom-color: var(--color-orange);
  }

  /* Footer Styles */
  .footer-links a {
    text-decoration: none;
  }

  .newsletter-form .input {
    background: transparent;
    color: var(--color-light);
  }

  .newsletter-form .input::placeholder {
    color: #666;
  }

  /* Background Pattern for Hero */
  .hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(224, 94, 16, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(224, 94, 16, 0.1) 0%, transparent 50%);
    z-index: 25;
    pointer-events: none;
  }

  /* Features Grid Responsive */
  @media (max-width: 768px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
    
    .contact-content {
      grid-template-columns: 1fr;
      gap: 3rem;
    }
    
    .footer-content {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }
    
    .footer-bottom {
      flex-direction: column;
      text-align: center;
    }
  }
</style>

<script>
  import { gsap, ScrollTrigger } from '../utils/gsap.js';

  // GSAP Animations
  document.addEventListener('DOMContentLoaded', () => {

    // Hero Animation - Las animaciones están en Hero.astro
    // Remover duplicados para evitar conflictos

    // Animaciones de scroll para secciones
    gsap.utils.toArray('.section-header').forEach(header => {
      gsap.from(header as HTMLElement, {
        opacity: 0,
        y: 30,
        duration: 0.8,
        ease: "power2.out",
        scrollTrigger: {
          trigger: header as HTMLElement,
          start: "top 80%",
          toggleActions: "play none none reverse"
        }
      });
    });

    // Animaciones para grids y listas
    gsap.utils.toArray('.projects-grid, .services-list, .team-grid').forEach(grid => {
      gsap.from(grid as HTMLElement, {
        opacity: 0,
        y: 30,
        duration: 0.8,
        ease: "power2.out",
        scrollTrigger: {
          trigger: grid as HTMLElement,
          start: "top 80%",
          toggleActions: "play none none reverse"
        }
      });
    });
    // Animaciones del formulario de contacto están en Contacto.astro
    // para evitar duplicados
  });
</script>